#!/bin/bash
# credits to https://ph4r05.deadcode.me/blog/2019/10/08/remote-jupyter-notebook.html
# slightly adjusted utility used to host jupyter notebook on Aura server using virtual env 'android_malware_labeling'
# starts using current working directory - is advised to call the script inside directory with notebooks

: "${JPORT:=8876}"  # unique port per users

# Dependency loading for MUNI RHEL8 machines
module load zlib-1.2.11 ncurses-5.9 readline-7.0 libffi-3.2.1 bzip2-1.0.8 xz-5.2.4 sqlite-3.29.0 mariadb-client-8.0.17 graphviz-2.26.3 

# Run the notebook in the terminal
pyenv local android_malware_labeling
nice -n 20 python3 -m notebook --no-browser --port $JPORT .
